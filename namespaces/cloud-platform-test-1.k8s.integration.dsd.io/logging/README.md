# Logging with Fluentd to ElasticSearch on Kubernetes 

## Introduction
The files within this directory, when deployed together will install Fluentd and will collect all of the logs being generated by every container in the cluster.

Fluentd, in real-time, will transport the collected logs to your specified ElasticSearch endpoint.

These files are a customised version of the official Kubernetes `fluentd-es` templates. [Repo link.](https://github.com/kubernetes/kubernetes/tree/master/cluster/addons/fluentd-elasticsearch)

This README uses the `test-1` cluster in it's examples, but this information should be applicable to any cluster you are seeking to deploy this on.

## Pre-Reqs
This guide assumes you have already configured or have access to an AWS Hosted ElasticSearch.

## File-Breakdown

### Logging Namespace

The `00.namespace.yaml` file simply creates a 'logging' namespace in the cluster. 

This is where fluent-es will be deployed, and therfore has to be the first of the 3 files to be deployed.

It is strongly advised that these 3 files are deployed by deploying all the contents of this directory together. 

Example: `$ kubectl create -f logging/`

### Application & RBAC

`kube-fluentd-es.yaml`

### Application ConfigMap

`kube-fluentd-es-config.yaml`


## Configuration 

..

## Notes of considerations

..